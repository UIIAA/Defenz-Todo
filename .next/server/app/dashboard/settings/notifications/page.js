(()=>{var e={};e.id=812,e.ids=[812],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},9820:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a=(0,s(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/marcoscruz/Documents/Projetos/Defenz/Defenz - To-Do/src/app/dashboard/settings/notifications/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/marcoscruz/Documents/Projetos/Defenz/Defenz - To-Do/src/app/dashboard/settings/notifications/page.tsx","default")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},18741:(e,t,s)=>{Promise.resolve().then(s.bind(s,71464))},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},19169:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(62688).A)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]])},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},56520:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>h,tree:()=>d});var a=s(65239),r=s(48088),i=s(88170),n=s.n(i),o=s(30893),l={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);s.d(t,l);let d={children:["",{children:["dashboard",{children:["settings",{children:["notifications",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,9820)),"/Users/marcoscruz/Documents/Projetos/Defenz/Defenz - To-Do/src/app/dashboard/settings/notifications/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,63144)),"/Users/marcoscruz/Documents/Projetos/Defenz/Defenz - To-Do/src/app/dashboard/layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,94431)),"/Users/marcoscruz/Documents/Projetos/Defenz/Defenz - To-Do/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["/Users/marcoscruz/Documents/Projetos/Defenz/Defenz - To-Do/src/app/dashboard/settings/notifications/page.tsx"],u={require:s,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:r.RouteKind.APP_PAGE,page:"/dashboard/settings/notifications/page",pathname:"/dashboard/settings/notifications",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},60533:(e,t,s)=>{Promise.resolve().then(s.bind(s,9820))},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},71464:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>H});var a=s(60687),r=s(43210),i=s(44493),n=s(29523),o=s(80013),l=s(70569),d=s(98599),c=s(11273),u=s(65551),h=s(83721),m=s(18853),p=s(14163),x="Switch",[f,v]=(0,c.A)(x),[b,g]=f(x),j=r.forwardRef((e,t)=>{let{__scopeSwitch:s,name:i,checked:n,defaultChecked:o,required:c,disabled:h,value:m="on",onCheckedChange:f,form:v,...g}=e,[j,y]=r.useState(null),k=(0,d.s)(t,e=>y(e)),D=r.useRef(!1),C=!j||v||!!j.closest("form"),[P,R]=(0,u.i)({prop:n,defaultProp:o??!1,onChange:f,caller:x});return(0,a.jsxs)(b,{scope:s,checked:P,disabled:h,children:[(0,a.jsx)(p.sG.button,{type:"button",role:"switch","aria-checked":P,"aria-required":c,"data-state":w(P),"data-disabled":h?"":void 0,disabled:h,value:m,...g,ref:k,onClick:(0,l.mK)(e.onClick,e=>{R(e=>!e),C&&(D.current=e.isPropagationStopped(),D.current||e.stopPropagation())})}),C&&(0,a.jsx)(N,{control:j,bubbles:!D.current,name:i,value:m,checked:P,required:c,disabled:h,form:v,style:{transform:"translateX(-100%)"}})]})});j.displayName=x;var y="SwitchThumb",k=r.forwardRef((e,t)=>{let{__scopeSwitch:s,...r}=e,i=g(y,s);return(0,a.jsx)(p.sG.span,{"data-state":w(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:t})});k.displayName=y;var N=r.forwardRef(({__scopeSwitch:e,control:t,checked:s,bubbles:i=!0,...n},o)=>{let l=r.useRef(null),c=(0,d.s)(l,o),u=(0,h.Z)(s),p=(0,m.X)(t);return r.useEffect(()=>{let e=l.current;if(!e)return;let t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(u!==s&&t){let a=new Event("click",{bubbles:i});t.call(e,s),e.dispatchEvent(a)}},[u,s,i]),(0,a.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s,...n,tabIndex:-1,ref:c,style:{...n.style,...p,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function w(e){return e?"checked":"unchecked"}N.displayName="SwitchBubbleInput";var D=s(4780);function C({className:e,...t}){return(0,a.jsx)(j,{"data-slot":"switch",className:(0,D.cn)("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:(0,a.jsx)(k,{"data-slot":"switch-thumb",className:(0,D.cn)("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}var P=s(89667),R=s(52581),q=s(62688);let A=(0,q.A)("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]);var E=s(19169);let z=(0,q.A)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),S=(0,q.A)("test-tube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);function H(){let[e,t]=(0,r.useState)({activityAssigned:!0,deadlineApproaching:!0,statusChanged:!0,activityDeleted:!0,dailyDigest:!1,weeklyReport:!1,quietHoursStart:null,quietHoursEnd:null}),[s,l]=(0,r.useState)(!0),[d,c]=(0,r.useState)(!1),[u,h]=(0,r.useState)(!1),m=async()=>{c(!0);try{let t=await fetch("/api/notifications/preferences",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(t.ok)R.oR.success("Prefer\xeancias salvas com sucesso!");else{let e=await t.json();R.oR.error(e.error||"Erro ao salvar prefer\xeancias")}}catch(e){console.error("Error saving preferences:",e),R.oR.error("Erro ao salvar prefer\xeancias")}finally{c(!1)}},p=async()=>{h(!0);try{let e=await fetch("/api/notifications/test",{method:"POST"}),t=await e.json();e.ok?R.oR.success(t.message||"Email de teste enviado!"):R.oR.error(t.error||"Erro ao enviar email de teste")}catch(e){console.error("Error sending test email:",e),R.oR.error("Erro ao enviar email de teste")}finally{h(!1)}};return s?(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-slate-900 to-slate-950 p-6",children:(0,a.jsx)("div",{className:"text-slate-300",children:"Carregando..."})}):(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-slate-900 to-slate-950 p-6",children:(0,a.jsxs)("div",{className:"max-w-4xl mx-auto space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h1",{className:"text-3xl font-bold text-slate-100 flex items-center gap-2",children:[(0,a.jsx)(A,{className:"h-8 w-8 text-blue-400"}),"Notifica\xe7\xf5es por Email"]}),(0,a.jsx)("p",{className:"text-slate-400 mt-2",children:"Configure quando e como voc\xea deseja receber notifica\xe7\xf5es sobre suas atividades."})]}),(0,a.jsxs)(i.Zp,{className:"bg-slate-900/50 border-slate-800/50 backdrop-blur-sm",children:[(0,a.jsxs)(i.aR,{children:[(0,a.jsxs)(i.ZB,{className:"flex items-center gap-2 text-slate-100",children:[(0,a.jsx)(E.A,{className:"h-5 w-5 text-blue-400"}),"Tipos de Notifica\xe7\xe3o"]}),(0,a.jsx)(i.BT,{className:"text-slate-400",children:"Escolha quais eventos devem gerar notifica\xe7\xf5es por email"})]}),(0,a.jsxs)(i.Wu,{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"space-y-0.5",children:[(0,a.jsx)(o.J,{htmlFor:"activityAssigned",className:"text-slate-200",children:"Atividade Atribu\xedda"}),(0,a.jsx)("p",{className:"text-sm text-slate-400",children:"Receber email quando uma atividade for atribu\xedda a voc\xea"})]}),(0,a.jsx)(C,{id:"activityAssigned",checked:e.activityAssigned,onCheckedChange:s=>t({...e,activityAssigned:s})})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"space-y-0.5",children:[(0,a.jsx)(o.J,{htmlFor:"deadlineApproaching",className:"text-slate-200",children:"Prazo Pr\xf3ximo"}),(0,a.jsx)("p",{className:"text-sm text-slate-400",children:"Receber lembretes 24 horas antes do prazo"})]}),(0,a.jsx)(C,{id:"deadlineApproaching",checked:e.deadlineApproaching,onCheckedChange:s=>t({...e,deadlineApproaching:s})})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"space-y-0.5",children:[(0,a.jsx)(o.J,{htmlFor:"statusChanged",className:"text-slate-200",children:"Status Alterado"}),(0,a.jsx)("p",{className:"text-sm text-slate-400",children:"Receber email quando o status de uma atividade mudar"})]}),(0,a.jsx)(C,{id:"statusChanged",checked:e.statusChanged,onCheckedChange:s=>t({...e,statusChanged:s})})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"space-y-0.5",children:[(0,a.jsx)(o.J,{htmlFor:"activityDeleted",className:"text-slate-200",children:"Atividade Deletada"}),(0,a.jsx)("p",{className:"text-sm text-slate-400",children:"Receber email quando uma atividade for deletada"})]}),(0,a.jsx)(C,{id:"activityDeleted",checked:e.activityDeleted,onCheckedChange:s=>t({...e,activityDeleted:s})})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"space-y-0.5",children:[(0,a.jsx)(o.J,{htmlFor:"dailyDigest",className:"text-slate-200",children:"Resumo Di\xe1rio"}),(0,a.jsx)("p",{className:"text-sm text-slate-400",children:"Receber um resumo di\xe1rio das atividades pendentes"})]}),(0,a.jsx)(C,{id:"dailyDigest",checked:e.dailyDigest,onCheckedChange:s=>t({...e,dailyDigest:s})})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"space-y-0.5",children:[(0,a.jsx)(o.J,{htmlFor:"weeklyReport",className:"text-slate-200",children:"Relat\xf3rio Semanal"}),(0,a.jsx)("p",{className:"text-sm text-slate-400",children:"Receber um relat\xf3rio semanal com suas estat\xedsticas"})]}),(0,a.jsx)(C,{id:"weeklyReport",checked:e.weeklyReport,onCheckedChange:s=>t({...e,weeklyReport:s})})]})]})]}),(0,a.jsxs)(i.Zp,{className:"bg-slate-900/50 border-slate-800/50 backdrop-blur-sm",children:[(0,a.jsxs)(i.aR,{children:[(0,a.jsx)(i.ZB,{className:"text-slate-100",children:"Hor\xe1rio de Sil\xeancio"}),(0,a.jsx)(i.BT,{className:"text-slate-400",children:"Configure um per\xedodo em que voc\xea n\xe3o deseja receber notifica\xe7\xf5es"})]}),(0,a.jsxs)(i.Wu,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(o.J,{htmlFor:"quietHoursStart",className:"text-slate-200",children:"In\xedcio (HH:MM)"}),(0,a.jsx)(P.p,{id:"quietHoursStart",type:"time",value:e.quietHoursStart||"",onChange:s=>t({...e,quietHoursStart:s.target.value}),className:"bg-slate-800 border-slate-700 text-slate-100"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(o.J,{htmlFor:"quietHoursEnd",className:"text-slate-200",children:"Fim (HH:MM)"}),(0,a.jsx)(P.p,{id:"quietHoursEnd",type:"time",value:e.quietHoursEnd||"",onChange:s=>t({...e,quietHoursEnd:s.target.value}),className:"bg-slate-800 border-slate-700 text-slate-100"})]})]}),(0,a.jsx)("p",{className:"text-xs text-slate-500",children:"Exemplo: 22:00 at\xe9 08:00 (n\xe3o receber\xe1 notifica\xe7\xf5es durante a noite)"})]})]}),(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsxs)(n.$,{onClick:m,disabled:d,className:"bg-blue-600 hover:bg-blue-700 text-white",children:[(0,a.jsx)(z,{className:"h-4 w-4 mr-2"}),d?"Salvando...":"Salvar Prefer\xeancias"]}),(0,a.jsxs)(n.$,{onClick:p,disabled:u,variant:"outline",className:"bg-slate-800/50 border-slate-700 text-slate-300 hover:bg-slate-700",children:[(0,a.jsx)(S,{className:"h-4 w-4 mr-2"}),u?"Enviando...":"Enviar Email de Teste"]})]})]})})}},79551:e=>{"use strict";e.exports=require("url")}};var t=require("../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[243,943,924,738,724,967],()=>s(56520));module.exports=a})();