(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[812],{285:(e,t,s)=>{"use strict";s.d(t,{$:()=>o});var a=s(5155);s(2115);var r=s(9708),i=s(2085),n=s(9434);let l=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function o(e){let{className:t,variant:s,size:i,asChild:o=!1,...c}=e,d=o?r.DX:"button";return(0,a.jsx)(d,{"data-slot":"button",className:(0,n.cn)(l({variant:s,size:i,className:t})),...c})}},1275:(e,t,s)=>{"use strict";s.d(t,{X:()=>i});var a=s(2115),r=s(2712);function i(e){let[t,s]=a.useState(void 0);return(0,r.N)(()=>{if(e){s({width:e.offsetWidth,height:e.offsetHeight});let t=new ResizeObserver(t=>{let a,r;if(!Array.isArray(t)||!t.length)return;let i=t[0];if("borderBoxSize"in i){let e=i.borderBoxSize,t=Array.isArray(e)?e[0]:e;a=t.inlineSize,r=t.blockSize}else a=e.offsetWidth,r=e.offsetHeight;s({width:a,height:r})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}s(void 0)},[e]),t}},2523:(e,t,s)=>{"use strict";s.d(t,{p:()=>i});var a=s(5155);s(2115);var r=s(9434);function i(e){let{className:t,type:s,...i}=e;return(0,a.jsx)("input",{type:s,"data-slot":"input",className:(0,r.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...i})}},2712:(e,t,s)=>{"use strict";s.d(t,{N:()=>r});var a=s(2115),r=globalThis?.document?a.useLayoutEffect:()=>{}},4161:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>P});var a=s(5155),r=s(2115),i=s(6695),n=s(285),l=s(5057),o=s(5185),c=s(6101),d=s(6081),u=s(5845),h=s(5503),m=s(1275),f=s(3655),x="Switch",[p,v]=(0,d.A)(x),[b,g]=p(x),y=r.forwardRef((e,t)=>{let{__scopeSwitch:s,name:i,checked:n,defaultChecked:l,required:d,disabled:h,value:m="on",onCheckedChange:p,form:v,...g}=e,[y,j]=r.useState(null),N=(0,c.s)(t,e=>j(e)),C=r.useRef(!1),E=!y||v||!!y.closest("form"),[R,S]=(0,u.i)({prop:n,defaultProp:null!=l&&l,onChange:p,caller:x});return(0,a.jsxs)(b,{scope:s,checked:R,disabled:h,children:[(0,a.jsx)(f.sG.button,{type:"button",role:"switch","aria-checked":R,"aria-required":d,"data-state":w(R),"data-disabled":h?"":void 0,disabled:h,value:m,...g,ref:N,onClick:(0,o.mK)(e.onClick,e=>{S(e=>!e),E&&(C.current=e.isPropagationStopped(),C.current||e.stopPropagation())})}),E&&(0,a.jsx)(k,{control:y,bubbles:!C.current,name:i,value:m,checked:R,required:d,disabled:h,form:v,style:{transform:"translateX(-100%)"}})]})});y.displayName=x;var j="SwitchThumb",N=r.forwardRef((e,t)=>{let{__scopeSwitch:s,...r}=e,i=g(j,s);return(0,a.jsx)(f.sG.span,{"data-state":w(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:t})});N.displayName=j;var k=r.forwardRef((e,t)=>{let{__scopeSwitch:s,control:i,checked:n,bubbles:l=!0,...o}=e,d=r.useRef(null),u=(0,c.s)(d,t),f=(0,h.Z)(n),x=(0,m.X)(i);return r.useEffect(()=>{let e=d.current;if(!e)return;let t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(f!==n&&t){let s=new Event("click",{bubbles:l});t.call(e,n),e.dispatchEvent(s)}},[f,n,l]),(0,a.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...o,tabIndex:-1,ref:u,style:{...o.style,...x,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function w(e){return e?"checked":"unchecked"}k.displayName="SwitchBubbleInput";var C=s(9434);function E(e){let{className:t,...s}=e;return(0,a.jsx)(y,{"data-slot":"switch",className:(0,C.cn)("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...s,children:(0,a.jsx)(N,{"data-slot":"switch-thumb",className:(0,C.cn)("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}var R=s(2523),S=s(6671),A=s(9946);let q=(0,A.A)("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]);var H=s(8883);let M=(0,A.A)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),_=(0,A.A)("test-tube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);function P(){let[e,t]=(0,r.useState)({activityAssigned:!0,deadlineApproaching:!0,statusChanged:!0,activityDeleted:!0,dailyDigest:!1,weeklyReport:!1,quietHoursStart:null,quietHoursEnd:null}),[s,o]=(0,r.useState)(!0),[c,d]=(0,r.useState)(!1),[u,h]=(0,r.useState)(!1);(0,r.useEffect)(()=>{m()},[]);let m=async()=>{try{let e=await fetch("/api/notifications/preferences");if(e.ok){let s=await e.json();t(s)}}catch(e){console.error("Error fetching preferences:",e),S.oR.error("Erro ao carregar prefer\xeancias")}finally{o(!1)}},f=async()=>{d(!0);try{let t=await fetch("/api/notifications/preferences",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(t.ok)S.oR.success("Prefer\xeancias salvas com sucesso!");else{let e=await t.json();S.oR.error(e.error||"Erro ao salvar prefer\xeancias")}}catch(e){console.error("Error saving preferences:",e),S.oR.error("Erro ao salvar prefer\xeancias")}finally{d(!1)}},x=async()=>{h(!0);try{let e=await fetch("/api/notifications/test",{method:"POST"}),t=await e.json();e.ok?S.oR.success(t.message||"Email de teste enviado!"):S.oR.error(t.error||"Erro ao enviar email de teste")}catch(e){console.error("Error sending test email:",e),S.oR.error("Erro ao enviar email de teste")}finally{h(!1)}};return s?(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-slate-900 to-slate-950 p-6",children:(0,a.jsx)("div",{className:"text-slate-300",children:"Carregando..."})}):(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-slate-900 to-slate-950 p-6",children:(0,a.jsxs)("div",{className:"max-w-4xl mx-auto space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h1",{className:"text-3xl font-bold text-slate-100 flex items-center gap-2",children:[(0,a.jsx)(q,{className:"h-8 w-8 text-blue-400"}),"Notifica\xe7\xf5es por Email"]}),(0,a.jsx)("p",{className:"text-slate-400 mt-2",children:"Configure quando e como voc\xea deseja receber notifica\xe7\xf5es sobre suas atividades."})]}),(0,a.jsxs)(i.Zp,{className:"bg-slate-900/50 border-slate-800/50 backdrop-blur-sm",children:[(0,a.jsxs)(i.aR,{children:[(0,a.jsxs)(i.ZB,{className:"flex items-center gap-2 text-slate-100",children:[(0,a.jsx)(H.A,{className:"h-5 w-5 text-blue-400"}),"Tipos de Notifica\xe7\xe3o"]}),(0,a.jsx)(i.BT,{className:"text-slate-400",children:"Escolha quais eventos devem gerar notifica\xe7\xf5es por email"})]}),(0,a.jsxs)(i.Wu,{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"space-y-0.5",children:[(0,a.jsx)(l.J,{htmlFor:"activityAssigned",className:"text-slate-200",children:"Atividade Atribu\xedda"}),(0,a.jsx)("p",{className:"text-sm text-slate-400",children:"Receber email quando uma atividade for atribu\xedda a voc\xea"})]}),(0,a.jsx)(E,{id:"activityAssigned",checked:e.activityAssigned,onCheckedChange:s=>t({...e,activityAssigned:s})})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"space-y-0.5",children:[(0,a.jsx)(l.J,{htmlFor:"deadlineApproaching",className:"text-slate-200",children:"Prazo Pr\xf3ximo"}),(0,a.jsx)("p",{className:"text-sm text-slate-400",children:"Receber lembretes 24 horas antes do prazo"})]}),(0,a.jsx)(E,{id:"deadlineApproaching",checked:e.deadlineApproaching,onCheckedChange:s=>t({...e,deadlineApproaching:s})})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"space-y-0.5",children:[(0,a.jsx)(l.J,{htmlFor:"statusChanged",className:"text-slate-200",children:"Status Alterado"}),(0,a.jsx)("p",{className:"text-sm text-slate-400",children:"Receber email quando o status de uma atividade mudar"})]}),(0,a.jsx)(E,{id:"statusChanged",checked:e.statusChanged,onCheckedChange:s=>t({...e,statusChanged:s})})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"space-y-0.5",children:[(0,a.jsx)(l.J,{htmlFor:"activityDeleted",className:"text-slate-200",children:"Atividade Deletada"}),(0,a.jsx)("p",{className:"text-sm text-slate-400",children:"Receber email quando uma atividade for deletada"})]}),(0,a.jsx)(E,{id:"activityDeleted",checked:e.activityDeleted,onCheckedChange:s=>t({...e,activityDeleted:s})})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"space-y-0.5",children:[(0,a.jsx)(l.J,{htmlFor:"dailyDigest",className:"text-slate-200",children:"Resumo Di\xe1rio"}),(0,a.jsx)("p",{className:"text-sm text-slate-400",children:"Receber um resumo di\xe1rio das atividades pendentes"})]}),(0,a.jsx)(E,{id:"dailyDigest",checked:e.dailyDigest,onCheckedChange:s=>t({...e,dailyDigest:s})})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"space-y-0.5",children:[(0,a.jsx)(l.J,{htmlFor:"weeklyReport",className:"text-slate-200",children:"Relat\xf3rio Semanal"}),(0,a.jsx)("p",{className:"text-sm text-slate-400",children:"Receber um relat\xf3rio semanal com suas estat\xedsticas"})]}),(0,a.jsx)(E,{id:"weeklyReport",checked:e.weeklyReport,onCheckedChange:s=>t({...e,weeklyReport:s})})]})]})]}),(0,a.jsxs)(i.Zp,{className:"bg-slate-900/50 border-slate-800/50 backdrop-blur-sm",children:[(0,a.jsxs)(i.aR,{children:[(0,a.jsx)(i.ZB,{className:"text-slate-100",children:"Hor\xe1rio de Sil\xeancio"}),(0,a.jsx)(i.BT,{className:"text-slate-400",children:"Configure um per\xedodo em que voc\xea n\xe3o deseja receber notifica\xe7\xf5es"})]}),(0,a.jsxs)(i.Wu,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(l.J,{htmlFor:"quietHoursStart",className:"text-slate-200",children:"In\xedcio (HH:MM)"}),(0,a.jsx)(R.p,{id:"quietHoursStart",type:"time",value:e.quietHoursStart||"",onChange:s=>t({...e,quietHoursStart:s.target.value}),className:"bg-slate-800 border-slate-700 text-slate-100"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(l.J,{htmlFor:"quietHoursEnd",className:"text-slate-200",children:"Fim (HH:MM)"}),(0,a.jsx)(R.p,{id:"quietHoursEnd",type:"time",value:e.quietHoursEnd||"",onChange:s=>t({...e,quietHoursEnd:s.target.value}),className:"bg-slate-800 border-slate-700 text-slate-100"})]})]}),(0,a.jsx)("p",{className:"text-xs text-slate-500",children:"Exemplo: 22:00 at\xe9 08:00 (n\xe3o receber\xe1 notifica\xe7\xf5es durante a noite)"})]})]}),(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsxs)(n.$,{onClick:f,disabled:c,className:"bg-blue-600 hover:bg-blue-700 text-white",children:[(0,a.jsx)(M,{className:"h-4 w-4 mr-2"}),c?"Salvando...":"Salvar Prefer\xeancias"]}),(0,a.jsxs)(n.$,{onClick:x,disabled:u,variant:"outline",className:"bg-slate-800/50 border-slate-700 text-slate-300 hover:bg-slate-700",children:[(0,a.jsx)(_,{className:"h-4 w-4 mr-2"}),u?"Enviando...":"Enviar Email de Teste"]})]})]})})}},4275:(e,t,s)=>{Promise.resolve().then(s.bind(s,4161))},5057:(e,t,s)=>{"use strict";s.d(t,{J:()=>n});var a=s(5155);s(2115);var r=s(968),i=s(9434);function n(e){let{className:t,...s}=e;return(0,a.jsx)(r.b,{"data-slot":"label",className:(0,i.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...s})}},5185:(e,t,s)=>{"use strict";s.d(t,{mK:()=>r});var a=!!("undefined"!=typeof window&&window.document&&window.document.createElement);function r(e,t,{checkForDefaultPrevented:s=!0}={}){return function(a){if(e?.(a),!1===s||!a.defaultPrevented)return t?.(a)}}},5503:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});var a=s(2115);function r(e){let t=a.useRef({value:e,previous:e});return a.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}},5845:(e,t,s)=>{"use strict";s.d(t,{i:()=>l});var a,r=s(2115),i=s(2712),n=(a||(a=s.t(r,2)))[" useInsertionEffect ".trim().toString()]||i.N;function l({prop:e,defaultProp:t,onChange:s=()=>{},caller:a}){let[i,l,o]=function({defaultProp:e,onChange:t}){let[s,a]=r.useState(e),i=r.useRef(s),l=r.useRef(t);return n(()=>{l.current=t},[t]),r.useEffect(()=>{i.current!==s&&(l.current?.(s),i.current=s)},[s,i]),[s,a,l]}({defaultProp:t,onChange:s}),c=void 0!==e,d=c?e:i;{let t=r.useRef(void 0!==e);r.useEffect(()=>{let e=t.current;if(e!==c){let t=c?"controlled":"uncontrolled";console.warn(`${a} is changing from ${e?"controlled":"uncontrolled"} to ${t}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`)}t.current=c},[c,a])}return[d,r.useCallback(t=>{if(c){let s="function"==typeof t?t(e):t;s!==e&&o.current?.(s)}else l(t)},[c,e,l,o])]}Symbol("RADIX:SYNC_STATE")},6081:(e,t,s)=>{"use strict";s.d(t,{A:()=>n,q:()=>i});var a=s(2115),r=s(5155);function i(e,t){let s=a.createContext(t),i=e=>{let{children:t,...i}=e,n=a.useMemo(()=>i,Object.values(i));return(0,r.jsx)(s.Provider,{value:n,children:t})};return i.displayName=e+"Provider",[i,function(r){let i=a.useContext(s);if(i)return i;if(void 0!==t)return t;throw Error(`\`${r}\` must be used within \`${e}\``)}]}function n(e,t=[]){let s=[],i=()=>{let t=s.map(e=>a.createContext(e));return function(s){let r=s?.[e]||t;return a.useMemo(()=>({[`__scope${e}`]:{...s,[e]:r}}),[s,r])}};return i.scopeName=e,[function(t,i){let n=a.createContext(i),l=s.length;s=[...s,i];let o=t=>{let{scope:s,children:i,...o}=t,c=s?.[e]?.[l]||n,d=a.useMemo(()=>o,Object.values(o));return(0,r.jsx)(c.Provider,{value:d,children:i})};return o.displayName=t+"Provider",[o,function(s,r){let o=r?.[e]?.[l]||n,c=a.useContext(o);if(c)return c;if(void 0!==i)return i;throw Error(`\`${s}\` must be used within \`${t}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let s=()=>{let s=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let r=s.reduce((t,{useScope:s,scopeName:a})=>{let r=s(e)[`__scope${a}`];return{...t,...r}},{});return a.useMemo(()=>({[`__scope${t.scopeName}`]:r}),[r])}};return s.scopeName=t.scopeName,s}(i,...t)]}},6695:(e,t,s)=>{"use strict";s.d(t,{BT:()=>o,Wu:()=>c,ZB:()=>l,Zp:()=>i,aR:()=>n});var a=s(5155);s(2115);var r=s(9434);function i(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"card",className:(0,r.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...s})}function n(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"card-header",className:(0,r.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...s})}function l(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"card-title",className:(0,r.cn)("leading-none font-semibold",t),...s})}function o(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"card-description",className:(0,r.cn)("text-muted-foreground text-sm",t),...s})}function c(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"card-content",className:(0,r.cn)("px-6",t),...s})}},8883:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(9946).A)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]])},9434:(e,t,s)=>{"use strict";s.d(t,{cn:()=>i});var a=s(2596),r=s(9688);function i(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,r.QP)((0,a.$)(t))}}},e=>{var t=t=>e(e.s=t);e.O(0,[201,419,441,684,358],()=>t(4275)),_N_E=e.O()}]);